# Block Golf （仮）

## 概要

ボールを発射し, ギミックを利用してボールをゴールに入れるゲーム.
左右矢印キーとZキーのみで操作し, すべての操作可能な箇所は連動するようになっている.

## ゲーム流れ

### 起動方法
`block_golf`ディレクトリで, デバッグ時や開発時は`cargo run --features bevy/dynamic`, リポジトリクローン後試遊する際は`cargo run`を実行する.
最適化のためには`cargo build --release`を実行し, `target/release/`ディレクトリに`assets`をコピーしてから`target/release/block_golf`を実行する.

### 起動後

1. メニューではzキーで決定, xキーでキャンセル（キャンセル時の選択肢は保存される）.
1. 「Set Rule」でルール設定できる.
    - BallScore：それぞれのゴールに設定されている得点をどれだけ取れるか競う.
    - LittleOperation：矢印キーの操作量が点数になり, 点数が低いほうが高評価となる.
    - TimeAttack：ボールをいずれかのゴールに入れるまでの時間を競う.
1. Startを選ぶとステージ選択になり, ステージを決定するとゲームが始まる.
1. ボールをランチャーに番え, 発射する.
1. ボールは推進やブロックによる反射, 風力などで移動する.
1. 矢印キーによる操作でボールをゴールまで導くことが目的となる.
1. ゲーム中, リザルトまでの間はRキーでリトライ, Bキーでメニューに戻ることができる.

### 矢印キーによる操作
- ブロックを回転や平行移動させる.
- ボール発射機を回転させる.

### Zキーによる操作
- ボールを番える, または発射する.
- （未実装）特定のスイッチを動作させる.

### ギミック
- 送風機：ブロックの1辺に設置されており, 風力でボールの大きさに依る力を加える.
- スイッチ：ボールが乗ると押され, 他のブロック等に影響を与える. 時間経過でもとに戻るものもある.
- 重力：特定のステージには重力が働く. 鉛直下向きだけではない.
- （未実装）磁石：磁力で鉄球のみに力を加える.

### 備考
物理演算は自分で実装している.
ボールには種類があり, 反発係数や大きさや密度が異なる.
ブロックにも材質を設定できる（現状はあまり機能していない）.
